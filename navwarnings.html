<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NavForce — NAVAREA</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <style>
    :root{--bg:#eef1ef;--card:#ffffff;--muted:#59656b;--accent:#007bff;--nav:#003b73;--radius:12px}
    body{margin:0;font-family:Inter,system-ui,Arial;background:var(--bg);color:#142026}
    header{background:var(--nav);color:#fff;padding:12px 18px;display:flex;align-items:center;justify-content:space-between;gap:12px}
    .brand{display:flex;align-items:center;gap:12px}
    .brand img{width:44px;height:44px;border-radius:8px}
    .brand .title{font-weight:800;font-size:18px}
    .actions a{color:#fff;text-decoration:none;margin-left:12px;font-weight:700}

    .wrap{max-width:1200px;margin:18px auto;padding:12px;display:grid;grid-template-columns:1fr 360px;gap:18px}
    @media(max-width:980px){.wrap{grid-template-columns:1fr;padding:10px}.right{order:2}.left{order:1}}

    .panel{background:var(--card);border-radius:12px;padding:14px;box-shadow:0 8px 24px rgba(0,0,0,.06)}
    h1{margin:0 0 6px 0}
    p.lead{color:var(--muted);margin:0 0 12px 0}

    .map{width:100%;height:260px;border-radius:10px;object-fit:cover;border:1px solid rgba(0,0,0,.06)}

    .grid-cards{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px;margin-top:12px}
    .navcard{background:linear-gradient(180deg,#fff, #fbfdff);padding:12px;border-radius:10px;box-shadow:0 8px 18px rgba(2,6,23,.05);display:flex;flex-direction:column;justify-content:space-between}
    .navcard h3{margin:0;font-size:16px}
    .meta{color:var(--muted);font-size:13px;margin-top:6px}
    .navcard .row{display:flex;gap:8px;margin-top:10px}
    .btn{padding:8px 10px;border-radius:8px;border:0;background:var(--accent);color:white;cursor:pointer;font-weight:700}
    .btn.ghost{background:transparent;color:var(--accent);border:1px solid rgba(0,123,255,.12)}

    table{width:100%;border-collapse:collapse;margin-top:10px}
    th,td{padding:10px;border-bottom:1px solid rgba(0,0,0,.04);text-align:left}
    th{color:var(--muted);font-weight:700}

    /* Off-canvas preview */
    .offcanvas{position:fixed;right:-100%;top:0;height:100vh;width:min(920px,92vw);background:#fff;box-shadow:0 30px 80px rgba(2,6,23,.3);transition:right .45s cubic-bezier(.2,.9,.2,1);z-index:120}
    .offcanvas.open{right:0}
    .offcanvas header{background:var(--nav);color:#fff;padding:12px;display:flex;align-items:center;justify-content:space-between}
    .offcanvas iframe{width:100%;height:calc(100vh - 64px);border:0;display:block}
    .loader{position:absolute;left:0;right:0;top:64px;bottom:0;display:grid;place-items:center;background:linear-gradient(180deg,rgba(255,255,255,.6),transparent);backdrop-filter:blur(3px);}
    .spinner{width:48px;height:48px;border-radius:50%;border:5px solid rgba(0,0,0,.08);border-top-color:var(--accent);animation:spin 1s linear infinite}
    @keyframes spin{to{transform:rotate(360deg)}}

    /* bottom actions */
    .bottom-actions{display:flex;gap:8px;justify-content:flex-end;margin-top:12px}

    /* small */
    @media(max-width:700px){.wrap{grid-template-columns:1fr}.offcanvas{width:100%}}
  </style>
</head>
<body>
  <header>
    <div class="brand"><img src="navforce.png" alt="logo"><div><div class="title">NavForce — NAVAREA</div><div style="font-size:13px;color:#dfeaf4">Navwarnings & Notices</div></div></div>
    <div class="actions">
      <a href="index.html">Home</a>
      <a href="mailto:contact@navforce.local">Contact</a>
    </div>
  </header>

  <main class="wrap">
    <section class="left">
      <div class="panel">
        <h1>NAVAREA Map & List</h1>
        <p class="lead">Overview of NAVAREA regions — quick access to official warnings, PDFs and sources. Click a region to preview or download the official bulletin.</p>
        <img src="navarea.PNG" alt="NAVAREA map" class="map">

        <div style="display:flex;gap:12px;margin-top:12px;flex-wrap:wrap">
          <button class="btn" onclick="scrollToTable()">Jump to list</button>
          <button class="btn ghost" onclick="openAbout()">About NAVAREA</button>
        </div>

        <div style="margin-top:18px" id="nav-list">
          <div style="display:flex;align-items:center;justify-content:space-between">
            <h3 style="margin:0">NAVAREA Regions</h3>
            <div style="color:var(--muted);font-size:13px">Updated: <strong>25-11-2025 21:34 UTC</strong></div>
          </div>

          <div class="grid-cards" id="cards">
            <!-- cards injected by JS -->
          </div>

          <table id="navTable" aria-label="NAVAREA table">
            <thead><tr><th>Region</th><th>Authority</th><th>Last Modified</th><th>Actions</th></tr></thead>
            <tbody id="tableBody">
              <!-- rows injected -->
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <aside class="right">
      <div class="panel">
        <h3>Quick Links</h3>
        <p class="lead">Official sources and downloads.</p>
        <div style="display:flex;flex-direction:column;gap:8px;margin-top:8px">
          <a class="btn ghost" href="https://msi.admiralty.co.uk" target="_blank">UK Admiralty MSI</a>
          <a class="btn ghost" href="https://msi.nga.mil" target="_blank">NGA MSI</a>
          <a class="btn ghost" href="https://hydrobharat.gov.in" target="_blank">HydroBharat</a>
        </div>
        <div class="bottom-actions">
          <button class="btn" onclick="openSubscribe()">Subscribe</button>
        </div>
      </div>

      <div class="panel" style="margin-top:12px">
        <h3>Notes</h3>
        <p style="color:var(--muted)">Always cross-check with official Inmarsat SafetyNET or NAVTEX for urgent navigational warnings.</p>
      </div>
    </aside>
  </main>

  <!-- Off-canvas preview panel -->
  <div id="previewPanel" class="offcanvas" aria-hidden="true">
    <header>
      <div style="display:flex;gap:12px;align-items:center"><strong id="previewTitle">Preview</strong></div>
      <div>
        <button class="btn ghost" onclick="closePreview()">Close</button>
      </div>
    </header>
    <div id="previewLoader" class="loader" style="display:none"><div class="spinner"></div></div>
    <iframe id="previewFrame" src="" title="Preview"></iframe>
  </div>

  <script>
    // Sample NAVAREA data
    const NAVAREAS = [
      {region:'NAVAREA I', country:'United Kingdom', file:'navarea1.pdf', last:'03-01-2025 10:15 UTC', official:'https://msi.admiralty.co.uk'},
      {region:'NAVAREA II', country:'France', file:'navarea2.pdf', last:'02-01-2025 15:45 UTC', official:'https://portail.ping-info-nautique.fr'},
      {region:'NAVAREA III', country:'Spain', file:'navarea3.pdf', last:'02-01-2025 15:30 UTC', official:'https://armada.defensa.gob.es'},
      {region:'NAVAREA IV', country:'United States', file:'navarea4.pdf', last:'04-01-2025 06:45 UTC', official:'https://msi.nga.mil'},
      {region:'NAVAREA V', country:'Brazil', file:'navarea5.pdf', last:'04-01-2025 02:45 UTC', official:'https://www.marinha.mil.br'},
      {region:'NAVAREA VII', country:'South Africa', file:'navarea7.pdf', last:'03-01-2025 09:00 UTC', official:'http://www.sanho.co.za'},
      {region:'NAVAREA VIII', country:'India', file:'navarea8.pdf', last:'03-01-2025 13:15 UTC', official:'https://hydrobharat.gov.in'},
      {region:'NAVAREA IX', country:'Pakistan', file:'navarea9.pdf', last:'04-01-2025 15:17 UTC', official:'https://hydrography.paknavy.gov.pk'},
      {region:'NAVAREA X', country:'Australia', file:'navarea10.pdf', last:'04-01-2025 04:00 UTC', official:'https://www.operations.amsa.gov.au'},
      {region:'NAVAREA XI', country:'Japan', file:'navarea11.pdf', last:'04-01-2025 16:31 UTC', official:'https://www1.kaiho.mlit.go.jp'},
      {region:'NAVAREA XII', country:'United States', file:'navarea12.pdf', last:'03-01-2025 17:20 UTC', official:'https://msi.nga.mil'},
      {region:'NAVAREA XIV', country:'New Zealand', file:'navarea14.pdf', last:'02-01-2025 19:30 UTC', official:'https://www.maritimenz.govt.nz'},
      {region:'NAVAREA XV', country:'Chile', file:'navarea15.pdf', last:'08-12-2024 04:01 UTC', official:'http://www.shoa.cl'},
      {region:'NAVAREA XVI', country:'Peru', file:'navarea16.pdf', last:'04-01-2025 09:47 UTC', official:'https://www.dhn.mil.pe'},
      {region:'NAVAREA XVII', country:'Canada', file:'navarea17.pdf', last:'03-01-2025 17:20 UTC', official:'https://nis.ccg-gcc.gc.ca'},
      {region:'NAVAREA XVIII', country:'Canada', file:'navarea18.pdf', last:'03-01-2025 17:21 UTC', official:'https://nis.ccg-gcc.gc.ca'},
      {region:'NAVAREA XIX', country:'Norway', file:'navarea19.pdf', last:'03-01-2025 14:00 UTC', official:'https://kyvreports.kystverket.no'}
    ];

    const cardsEl = document.getElementById('cards');
    const tableBody = document.getElementById('tableBody');

    function makeCard(a){
      const div = document.createElement('div'); div.className='navcard';
      div.innerHTML = `<div><h3>${a.region}</h3><div class="meta">${a.country}</div></div><div class="row"><button class='btn' onclick="preview('${a.file}','${a.region}')">Preview</button><a class='btn ghost' href='${a.file}' download style='text-decoration:none;padding:8px 10px;border-radius:8px'>Download</a><a class='btn ghost' href='${a.official}' target='_blank' style='text-decoration:none;padding:8px 10px;border-radius:8px'>Official</a></div>`;
      return div;
    }

    function makeRow(a){
      const tr = document.createElement('tr');
      tr.innerHTML = `<td>${a.region}</td><td>${a.country}</td><td>${a.last}</td><td><button class='btn' onclick="preview('${a.file}','${a.region}')">Preview</button> <a href='${a.file}' download class='btn ghost' style='text-decoration:none;padding:6px 8px;border-radius:8px'>Download</a></td>`;
      return tr;
    }

    NAVAREAS.forEach(a=>{cardsEl.appendChild(makeCard(a));tableBody.appendChild(makeRow(a));});

    // preview controls
    const panel = document.getElementById('previewPanel');
    const frame = document.getElementById('previewFrame');
    const loader = document.getElementById('previewLoader');
    const titleEl = document.getElementById('previewTitle');

    function preview(file, title){
      titleEl.textContent = title + ' — NAVAREA Bulletin';
      panel.classList.add('open'); panel.setAttribute('aria-hidden','false');
      loader.style.display='grid'; frame.style.display='none';
      // short delay to show loader, then set frame src
      setTimeout(()=>{
        frame.src = file;
        frame.onload = ()=>{ loader.style.display='none'; frame.style.display='block'; };
        frame.onerror = ()=>{ loader.style.display='none'; frame.style.display='block'; frame.contentDocument && frame.contentDocument.body && (frame.contentDocument.body.innerHTML = '<div style="padding:18px;color:#666">Unable to preview — download the PDF to view locally.</div>'); };
      },400);
    }
    function closePreview(){ panel.classList.remove('open'); panel.setAttribute('aria-hidden','true'); frame.src=''; }

    // small helpers
    function scrollToTable(){ document.getElementById('navTable').scrollIntoView({behavior:'smooth'}); }
    function openAbout(){ alert('NAVAREA (Navigational Area) messages are promulgated by designated coastal authorities. Always use official sources for operational decisions.'); }
    function openSubscribe(){ alert('Subscribe feature coming soon — will support email and SMS MSIs.'); }

    // support back to main app
    if(window.location.hash === '#openPreview'){
      // optional deep linking
    }
  </script>
</body>
</html>

